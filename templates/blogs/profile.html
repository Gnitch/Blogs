{% extends 'blogs/base.html' %}
{% load static %}
{% load crispy_forms_tags %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile</title>
    {% block cssfile %}
        <link rel="stylesheet" href="{% static 'blogs/profile.css' %}">
        <link href="https://fonts.googleapis.com/css2?family=Philosopher:wght@700&display=swap" rel="stylesheet">
    {% endblock %}
</head>
<body>
    
    {% block content %}
        
        <div class="container col-md-6 text-center">
            <h1>Profile</h1>
            {% if type == 'edit' %}
                <form method="POST" enctype="multipart/form-data" class="text-center"> 
                    {% csrf_token %}
                    {{ form|crispy }}
                    <button type="submit" value="submit" class="btn btn-dark text-center">Save</button>
                </form> 


                <script> 

                    id_cover = doc

                    Filevalidation = () => { 
                        const fi = document.getElementById('id_cover'); 
                        // Check if any file is selected. 
                        if (fi.files.length > 0) { 
                            for (const i = 0; i <= fi.files.length - 1; i++) { 
                  
                                const fsize = fi.files.item(i).size; 
                                const file = Math.round((fsize / 1024)); 
                                // The size of the file. 
                                if (file >= 2096) { 
                                    alert( 
                                      "File too Big, please select a file less than 4mb"); 
                                } else if (file < 2048) { 
                                    alert( 
                                      "File too small, please select a file greater than 2mb"); 
                                } 
                            } 
                        } 
                    } 
                </script> 


            {% else %}
                <img src="{{ profile_obj.cover.url }} "  alt="">
                <p class="edit"><a href="{% url 'blogs:Editprofile' %}"> <i class="fas fa-edit"></i>Edit profile</a></p>
                <p class="p">Username : {{  user.username }} </p>
                <p class="p">Email : {{ user.email }}</p>
                Status : <a href="" class="badge badge-info status">{{ profile_obj.status }}</a>
            {% endif %}
        </div>
        <script src="{% static 'blogs/Newblog&profile.js' %}"></script>
    {% endblock content %}

</body>
</html>